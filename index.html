<!DOCTYPE html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,
    initial-scale=1.0,minimum-scale=1" />
  <meta name="description" content="Фаст-фуд, приготовленный любящими руками и здоровыми ингредиентами" />
  <link rel="icon" href="assets/images/favicon.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Bad+Script&display=swap" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css" />
  <title>Фалафилоо</title>
</head>

<body>
  <header>
    <div class="header">
      <div class="header__main">
        <div class="hero">
          <div id="particles-js" style="
                position: absolute;
                width: 100%;
                height: 80vh;
                z-index: 150;
              "></div>
          <div class="hero-text">
            <p class="hero__bg">Фалафилоо</p>
            <p class="hero__sml">
              Фаст-фуд, приготовленный любящими руками и здоровыми
              ингредиентами
            </p>
            <button class="menu-btn" id="main-btn">заказать сейчас</button>
          </div>
          <figure class="hero__img">
            <img src="assets/images/floating-beef-burger.png" alt="" />
          </figure>
        </div>
      </div>
      <div class="header__sub"></div>
    </div>

    <button id="burger" class="open-main-nav">
      <span class="burger"></span>
    </button>
    <nav class="main-nav" id="main-nav">
      <ul>
        <li>
          <a href="#" id="homeNav" class="navAnchor">главного</a>
        </li>
        <li>
          <a href="#TheMenu" id="menuNav" class="navAnchor">меню</a>
        </li>
        <li>
          <a href="#aboutSection" id="aboutNav" class="navAnchor">О компании</a>
        </li>
        <li>
          <a href="#footer" id="contactNav" class="navAnchor">Контактная</a>
        </li>
      </ul>
    </nav>
    <button class="side-btn">категории</button>
  </header>
  <main>
    <section class="menu" id="TheMenu">

    </section>
    <section class="about" id="aboutSection">
      <p class="heading" id="opening">
        От старейшего города мира (Алеппо, Сирия) до самой большой страны мира
        Россия.
      </p>
      <div class="chapter">
        <div class="chapter__paragraph">
          Молодые люди начали свой путь из старейшего населенного города мира.
          12200 лет по данным ЮНЕСКО. <br />
          мы приехали в эту страну, неся сердце истории Алеппо и его
          натуральные ароматы, которые возникли в рассказах наших бабушек на
          протяжении более 122 веков. <br />
          этого возраста достаточно, чтобы завершить восточную кухню в целом и
          кухню Алеппо в частности.
        </div>
        <div class="chapter__img">
          <img src="assets/images/aleppo-citadel.webp" onContextMenu="return false;" alt="" />
        </div>
      </div>
      <div class="chapter">
        <div class="chapter__img">
          <img src="assets/images/trade-route.webp" onContextMenu="return false;" alt="" />
        </div>
        <p class="chapter__paragraph">
          Помимо того, что он является одним из самых важных узлов на
          исторически известном Шелковом пути, он сохранил свои позиции в
          качестве исторически важного коммерческого узла, который прославил
          его международными вкусами и стремится получить лучшее из лучшего.
        </p>
      </div>
      <p class="heading"></p>
      <div class="chapter">
        <p class="chapter__paragraph">
          Мы в Фалафилоо с большой любовью готовим эти рецепты из полезных
          ингредиентов и натуральных специй, чтобы завершить историю восточных
          блюд в России, которые вы обязательно должны попробовать.
        </p>
        <div class="chapter__img">
          <img src="assets/images/aleppo-cusin.webp" onContextMenu="return false;" alt="" />
        </div>
      </div>
      <div class="chapter">
        <div class="chapter__img">
          <img src="assets/images/peper.webp" onContextMenu="return false;" alt="" />
        </div>
        <p class="chapter__paragraph">
          Специи Алеппо натуральные и полезные, в них нет искусственных
          ароматизаторов. <br />
          Научные исследования доказали, что постоянное употребление
          усилителей вкуса и консервантов приводит к серьезным рискам для
          здоровья, которые могут проявиться не сразу.
        </p>
      </div>
      <div class="chapter">
        <p class="chapter__paragraph">
          Мы в Фалафилоо ставим здоровье на первое место вместе с характерным
          вкусом. Поэтому мы используем куриное и овечье мясо (халяль) с
          натуральными специями, чтобы обеспечить организм энергией на целый
          день.
        </p>
        <div class="chapter__img">
          <img src="assets/images/human-power.webp" onContextMenu="return false;" alt="" />
        </div>
      </div>
      <p class="heading">
        Алеппская кухня исторически является одной из самых известных кухонь,
        тем более что многие блюда Алеппо стали известными и распространились
        по всему миру. Такие как фалафель, шаурма, кебаб, а также множество
        закусок и десертов.
      </p>
      <div class="chapter">
        <div class="chapter__img">
          <img src="assets/images/syrial-land.webp" onContextMenu="return false;" alt="" />
        </div>
        <p class="chapter__paragraph">
          Мы в Фалафилоо стремимся представить наш город народу России.
        </p>
      </div>
      <p class="heading">
        Нашим первым шагом был ресторан быстрого питания, который известен на
        Востоке. Мы также предлагаем западные блюда с большим вниманием к
        деталям вкуса и здоровья. Мы предлагаем свежие блюда, приготовленные
        сразу по запросу.
      </p>
      <div class="chapter">
        <div class="chapter__img">
          <img src="assets/images/russian-flag.webp" onContextMenu="return false;" alt="" />
        </div>
        <p class="chapter__paragraph">
          Мы благодарим Россию и ее любящих людей, которые восприняли наш опыт
          и остались довольны нашей вкусной едой.
        </p>
      </div>
      <p class="heading">
        Мы делимся своим успехом с местными компаниями, чтобы доставить
        удовольствие нашим клиентам. поскольку мы сотрудничаем с сайтами
        онлайн-заказа и доставки на дом.
      </p>
    </section>
  </main>
  <footer id="footer">
    <div class="footer__title">Фалафилоо</div>
    <div class="footer-container">
      <div class="contact-data">
        <div class="tile">
          <ion-icon name="time-outline" class="tile__icon"></ion-icon> 10AM -
          10PM
        </div>
        <div class="tile">
          <ion-icon name="call-outline" class="tile__icon"></ion-icon> +7(915)
          200-08-09
        </div>
        <a class="tile" target="_blank" href="mailto:falafeloo.ru@gmail.com">
          <ion-icon name="mail-outline" class="tile__icon"></ion-icon>
          falafeloo.ru@gmail.com
        </a>
        <div class="footer__nav">
          <a class="footer__nav__element" href="https://www.facebook.com/falafeloo.ru" target="_blank">
            <ion-icon name="logo-facebook"></ion-icon>
          </a>
          <a class="footer__nav__element" href="https://m.youtube.com/channel/UCIXOCJI-EmHTxkJQ2wlCmfQ/featured"
            target="_blank">
            <ion-icon name="logo-youtube"></ion-icon>
          </a>
          <a class="footer__nav__element" href="https://www.instagram.com/falafeloo.ru/" target="_blank">
            <ion-icon name="logo-instagram"></ion-icon>
          </a>
          <a class="footer__nav__element" href="https://www.tiktok.com/@falafiloo.ru" target="_blank">
            <ion-icon name="logo-tiktok"></ion-icon>
          </a>
        </div>
      </div>
      <div class="mapouter">
        <div class="gmap_canvas">
          <iframe width="250" height="200" id="gmap_canvas"
            src="https://maps.google.com/maps?q=Proyezd%20Ugreshskiy,%202,%20Kotelniki,%20Moskovskaya%20oblast',%20Russia,%20140091&t=&z=17&ie=UTF8&iwloc=&output=embed"
            frameborder="" scrolling="no" marginheight="0" marginwidth="0"></iframe><a
            href="https://123movies-to.org"></a><br />
          <a href="https://www.embedgooglemap.net">interactive google map for website</a>
        </div>
      </div>
    </div>

    <div class="form-add-product" style="padding: 20;">
      <form id="my_form">
        <label for="Title">name Product:</label><br>
        <input required  type="text" id="title" name="Title"><br>
        <label for="desc">Discription:</label><br>
        <input  required type="text" id="desc" name="lname">
        <label for="Price">Price:</label><br>
        <input  required type="number" id="price" name="price">
        <label for="Category">Category:</label><br>
        <select class="select-category" id="category" name="Category">
          <option value="0">Shawarma</option>
          <option value="1">Broasted</option>
          <option value="2">Burger</option>
          <option value="3">Vegetarian</option>
          <option value="4">Falafel</option>
          <option value="5">Barbeque</option>
          <option value="6">Apptizers</option>

        </select>
        
        <button  type="submit" class="btn btn-primary btn-block" id="submit_btn">Submit</button>

      </form>
    </div>


  </footer>
  <div class="modal">
    <div class="modal__content">
      <span class="close-button">&times;</span>
      <div class="modal__mealImage">
        <img src="assets/images/33.webp" onContextMenu="return false;" alt="" />
      </div>
      <div class="modal__txt">
        <p class="modal__txt-title">АРАЕС сыр</p>
        <p class="modal__txt-description">
          Мясо баранины со специальной приправой, чеснок, помидор, огурец
          соленый.
        </p>
        <div class="modal__order">
          <a class="modal__order-btn"
            href="https://eda.yandex.ru/showcaptcha?retpath=https%3A//eda.yandex.ru/restaurant/falafiloo_ugreshskij_proezd_2%3F_9c8494f5f141aadf3dc899da0fbe32e8&t=2/1632329933/d572fb8382a425447bd3fe48ec3146cf&u=9f9577ef-578e9b74-ae1b9af8-c0877754&s=006b784b4481dc809b9aeae14d6ef350"
            target="_blank">
            <img src="assets/SVGs/yandex.svg" class="modal__order-btn-icon" alt="" />
            yandex
          </a>
          <a class="modal__order-btn" href="https://www.delivery-club.ru/srv/falafiloo_moskva?vendorCategoriesQuery=-2"
            target="_blank">
            <img src="assets/SVGs/deliveryClup.svg" class="modal__order-btn-icon" alt="" />
            deliveryClup
          </a>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
    // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-analytics.js";
    import { getFirestore, getDocs, collection, doc, addDoc, setDoc, updateDoc, arrayUnion } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-firestore.js";
    const firebaseConfig = {
      apiKey: "AIzaSyAB6MPsSBZMNHAUctHtPGuTjekxX0ZtCaM",
      authDomain: "media-bbcd9.firebaseapp.com",
      projectId: "media-bbcd9",
      storageBucket: "media-bbcd9.appspot.com",
      messagingSenderId: "704698318622",
      appId: "1:704698318622:web:610cec0df06af0d8c0d30f",
      measurementId: "G-GY4ZZB10MC"
    };
   

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    console.log("loading");
    console.log(await getProduct(db));
    const submitButton = document.querySelector("#submit_btn");
    submitButton.addEventListener("click", async function (event) {
      event.preventDefault();
      var title = document.getElementById('title').value;
      var desc = document.getElementById('desc').value;
      var price = document.getElementById('price').value;
      var category = document.getElementById('category').value;
      document.getElementById('submit_btn').textContent="Loading";
      await updateDoc(doc(db, "meals", "product"), {
        [category]: arrayUnion({
          lbl: title,
          desc: desc,
          price: price,
          img:"assets/images/1.webp"
        })
      });
      
      location.reload();
      const form = document.getElementById('my_form');
      form.reset();
      // var title = document.getElementById('title').value='';
      // var desc = document.getElementById('desc').value='';
      // var price = document.getElementById('price').value='';

    });
    async function getProduct(db) {
      const col = collection(db, 'meals');
      const Snapshot = await getDocs(col);
      console.log("dasssssssss")
      const productList = Snapshot.docs[0].data();

      let html = document.getElementById("TheMenu"),
        title = "",
        id = "";
      let values = "";
      const list = Object.values(productList);
      for (let key in list) {
        console.log(key)

        switch (key) {
          case "0":
            title = "hawarma";
            id = "shawarma_ctg";
            break;
          case "1":
            title = "Broasted";
            id = "broasted_ctg";
            break;
          case "2":
            title = "Burger";
            id = "burger_ctg";
            break;
          case "3":
            title = "Vegetarian";
            id="Vegetarian_ctg";
            break;
          case "4":
            title = "falafel";
            id = "falafel_ctg";
            break;
          case "5":
            title = "barbeque";
            id = "barbeque_ctg";
            break;
          case "6":
            title = "apptizers";
            id = "apptizers_ctg";
            break;
        }

        values += `<div class="firstContainer" id="${id}"> 
    <p class="firstContainer__title">${title}</p>`; //category title
        for (let i = 0; i < list[key].length; i++) {

          values += `
                      <div class="mealItem" id="${key}${i}">
                          <figure class="mealItem__main">
                            <img
                              src="${list[key][i].img}"
                              alt="meal Image"
                              onContextMenu="return false;"
                              class="mealItem__main__img"
                            />
                          </figure>
                          <p class="mealItem__title">${list[key][i].lbl}</p>
                      </div>

                `;


        }

        values += `</div>`;





      }
      html.innerHTML += values;
      return productList;
    }
  </script>
  <script src="JS/main.js"></script>
</body>

</html>
<!-- https://stackoverflow.com/questions/64630552/i-couldnt-add-data-from-my-form-inputs-to-the-firestore-collection-and-i-cant -->